{% extends "main/base.html" %}
{% block main %}
    <main class="section">
        <div class="container">
            <h1 class="section-title">Shopping Cart</h1>
            
            <div class="cart-container">
                <!-- Items -->
                <div class="cart-items">
                    {% for cart in carts %}
                    <div class="cart-item">
                        <a href="{% url "product_detail" cart.product.slug %}">
                        <div class="cart-item-image">
                            <img src="{{cart.product.get_image_url}}" alt="Product">
                        </div>
                        <div class="cart-item-info">
                            <h3> {{cart.product.name}} </h3>
                            
                        </a>
                        </div>
                        <div class="cart-item-price">
                            <div class="quantity-selector">
                                <input type="number" id="cartQnt-{{cart.id}}" onchange="updateCartQuantity('{{ cart.id }}')" value="{{cart.quantity}}"  class="qty-input"  min="1">
                            </div>
                        </div>
                        <div class="cart-item-total"> ${{cart.product.price}} </div>
                    </div>
                    
                    {% endfor %}
                </div>
                <!-- Summary -->
                <div class="order-summary">
                    <h3>Order Summary</h3>
                    <div class="summary-details">
                        
                        {% comment %} {% with shipping=carts.0.shipping_price %}
                        <div class="summary-row">
                            <span>Shipping Type :</span>
                            <span> {{shipping.shipping_type}} </span>
                        </div>
                        <div class="summary-row">
                            <span>Shipping Price :</span>
                            <span> ${{shipping.price}} </span>
                        </div>
                        {% endwith %} {% endcomment %}
                        <div class="summary-row total">
                            <span>Total :</span>
                            <span id='cartTotal'> ${{total_amount}} </span>
                        </div>
                    </div>
                     <form method="POST">
                        {% csrf_token %}
                    <button type="sumbit" class="btn btn-primary" style="width: 100%;">Proceed to Checkout</button>
                </form>
                </div>
            </div>
        </div>
    </main>
{% endblock %}
